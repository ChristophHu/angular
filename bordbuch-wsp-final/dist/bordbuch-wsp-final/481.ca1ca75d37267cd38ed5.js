(self.webpackChunkbordbuch_wsp_final=self.webpackChunkbordbuch_wsp_final||[]).push([[481],{9481:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ZaehlerstandModalComponent:()=>b});var a=n(8509),o=n(5366),r=n(1041),l=n(6691),i=n(3063),s=n(8218),d=n(959),c=n(8256),u=n(3070),m=n(9550),p=n(1116);const f=["modalComponent"];function h(t,e){1&t&&o.GkF(0)}function Z(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"button",22),o.NdJ("click",function(){return o.CHM(t),o.oxw(2).update()}),o._uU(1,"Z\xe4hlerstand \xfcbernehmen"),o.qZA()}}function g(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"button",22),o.NdJ("click",function(){return o.CHM(t),o.oxw().cancel()}),o._uU(2,"Abbrechen"),o.qZA(),o.qZA(),o.TgZ(3,"div"),o.YNc(4,Z,2,0,"button",23),o.qZA()}if(2&t){const t=o.oxw();o.xp6(4),o.Q6J("ngIf",t.zaehlerstandForm.dirty)}}let b=(()=>{class t{constructor(t,e,n,a){this._formBuilder=t,this.modalServiceZ=e,this._specFacade=n,this._katFacade=a,this.title="",this.zaehlerstandForm=this._formBuilder.group({id:[""],id_schiff:[""],id_zaehlerstandstyp:[],zaehlerstandstyp:[""],date:[""],value:[""],betriebsstunden:[""]})}ngOnInit(){this.modalServiceZ.getData().then(t=>{this.title=t.data.title,t.data.zaehlerstand&&(this.zaehlerstandForm.patchValue(t.data.zaehlerstand),this.selectZaehlerstandstyp(t.data.zaehlerstand.zaehlerstandstyp))})}selectZaehlerstandstyp(t){this._katFacade.getIdByZaehlerstandstyp(t).subscribe(t=>this.zaehlerstandForm.patchValue({id_zaehlerstandstyp:t}))}setDate(){this.zaehlerstandForm.patchValue({date:(0,a.eT)("now")}),this.zaehlerstandForm.markAsDirty()}update(){var t;this._specFacade.updateZaehlerstand(this.zaehlerstandForm.value),null===(t=this.modal)||void 0===t||t.close()}cancel(){var t;null===(t=this.modal)||void 0===t||t.close()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(r.qu),o.Y36(l.Z),o.Y36(i.C),o.Y36(s.V))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-zaehlerstand-modal"]],viewQuery:function(t,e){if(1&t&&o.Gf(f,5),2&t){let t;o.iGM(t=o.CRH())&&(e.modal=t.first)}},decls:46,vars:7,consts:[["modalComponent",""],[1,"h-16","p-8","flex","items-center","justify-between","border-b"],["tabindex","0",1,"dark:text-gray-50","focus:outline-none","text-2xl","font-semibold","leading-6","text-gray-800"],[1,"w-6","h-6","focus:outline-none","rounded-md","cursor-pointer",3,"click"],["name","x",1,"w-6","h-6","stroke-2","stroke-current","text-gray-500"],[1,"content"],[3,"formGroup"],[1,"hidden"],["appearance","fill"],["matInput","","type","text","formControlName","id","readonly",""],["matInput","","type","text","formControlName","id_schiff","readonly",""],["matInput","","type","text","formControlName","id_zaehlerstandstyp","readonly",""],["matInput","","type","number","formControlName","betriebsstunden"],["matInput","","type","text","formControlName","zaehlerstandstyp","readonly",""],[1,"flex","flex-row","items-center"],["matInput","","type","datetime-local","formControlName","date",3,"value"],[1,"w-6","h-6","mx-3","focus:outline-none","rounded-md","cursor-pointer",3,"click"],["name","calendar-event",1,"w-6","h-6","stroke-1","stroke-current","text-black"],["matInput","","type","number","formControlName","value"],[1,"absolute","h-16","px-8","right-0","bottom-0","left-0","flex","items-center","justify-between","border-t"],[4,"ngTemplateOutlet"],["toolbar",""],["type","button",1,"p-2","ml-3","bg-gray-800","text-white","rounded",3,"click"],["type","button","class","p-2 ml-3 bg-gray-800 text-white rounded",3,"click",4,"ngIf"]],template:function(t,e){if(1&t&&(o.TgZ(0,"app-modal",null,0),o.TgZ(2,"header",1),o.TgZ(3,"p",2),o._uU(4),o.qZA(),o.TgZ(5,"button",3),o.NdJ("click",function(){return e.cancel()}),o._UZ(6,"icons",4),o.qZA(),o.qZA(),o.TgZ(7,"div",5),o.TgZ(8,"form",6),o.TgZ(9,"div",7),o.TgZ(10,"mat-form-field",8),o.TgZ(11,"mat-label"),o._uU(12,"id"),o.qZA(),o._UZ(13,"input",9),o.qZA(),o.TgZ(14,"mat-form-field",8),o.TgZ(15,"mat-label"),o._uU(16,"id_schiff"),o.qZA(),o._UZ(17,"input",10),o.qZA(),o.TgZ(18,"mat-form-field",8),o.TgZ(19,"mat-label"),o._uU(20,"id_zaehlerstandstyp"),o.qZA(),o._UZ(21,"input",11),o.qZA(),o.TgZ(22,"mat-form-field",8),o.TgZ(23,"mat-label"),o._uU(24,"Betriebsstunden"),o.qZA(),o._UZ(25,"input",12),o.qZA(),o.qZA(),o.TgZ(26,"mat-form-field",8),o.TgZ(27,"mat-label"),o._uU(28,"Einrichtung/Ger\xe4t"),o.qZA(),o._UZ(29,"input",13),o.qZA(),o.TgZ(30,"div",14),o.TgZ(31,"mat-form-field",8),o.TgZ(32,"mat-label"),o._uU(33,"Datum/Uhrzeit"),o.qZA(),o._UZ(34,"input",15),o.ALo(35,"date"),o.qZA(),o.TgZ(36,"button",16),o.NdJ("click",function(){return e.setDate()}),o._UZ(37,"icons",17),o.qZA(),o.qZA(),o.TgZ(38,"mat-form-field",8),o.TgZ(39,"mat-label"),o._uU(40,"Einheiten"),o.qZA(),o._UZ(41,"input",18),o.qZA(),o.qZA(),o.qZA(),o.TgZ(42,"footer",19),o.YNc(43,h,1,0,"ng-container",20),o.qZA(),o.qZA(),o.YNc(44,g,5,1,"ng-template",null,21,o.W1O)),2&t){const t=o.MAs(45);o.xp6(4),o.hij(" ",e.title," "),o.xp6(4),o.Q6J("formGroup",e.zaehlerstandForm),o.xp6(26),o.s9C("value",o.xi3(35,4,e.zaehlerstandForm.value.date,"yyyy-MM-ddTHH:mm")),o.xp6(9),o.Q6J("ngTemplateOutlet",t)}},directives:[d.z,c._,r._Y,r.JL,r.sg,u.KE,u.hX,m.Nt,r.Fj,r.JJ,r.u,r.wV,p.tP,p.O5],pipes:[p.uU],styles:[".content[_ngcontent-%COMP%]{position:absolute;top:8rem;right:2rem;bottom:4rem;left:2rem;overflow:auto;-webkit-overflow-scrolling:touch;-ms-overflow-style:-ms-autohiding-scrollbar}.content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.dark[_ngcontent-%COMP%]   .mat-form-field-ripple[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .mat-form-field-underline[_ngcontent-%COMP%]:before{background-color:#fff6!important}.dark[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{color:#d3d3d3!important}"]}),t})()}}]);