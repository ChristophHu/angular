{"version":3,"sources":["./src/app/core/navbar/tabbar/tabbar.component.ts","./src/app/core/navbar/tabbar/tabbar.component.html","./src/app/core/navbar/tabbar/tabbar.module.ts","./src/app/store/kat-store/index.ts","./src/app/store/kat-store/resolver.ts","./src/app/store/ship-store/ship.effects.ts","./src/app/store/ship-store/ship.module.ts","./src/app/store/ship-store/ship.reducers.ts"],"names":[],"mappings":"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","file":"default-src_app_core_navbar_tabbar_tabbar_module_ts-src_app_store_kat-store_index_ts-src_app_-325b99.js","sourcesContent":["import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'tabbar',\r\n  templateUrl: './tabbar.component.html',\r\n  styleUrls: ['./tabbar.component.sass']\r\n})\r\nexport class TabbarComponent {\r\n  @Input() tabs: Array<any> = []\r\n  @Input() labelField: string = ''\r\n  @Input() active: any;\r\n  @Output() onTabSelect: EventEmitter<any> = new EventEmitter();\r\n\r\n  select(tab: any) {\r\n    console.log(tab)\r\n    this.onTabSelect.emit(tab);\r\n  }\r\n}\r\n","<nav class=\"absolute h-12 w-full px-4 bottom-0 bg-white dark:bg-gray-900 border-t\">\r\n    <ng-content></ng-content>\r\n</nav>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TabbarComponent } from './tabbar.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    TabbarComponent\r\n  ],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [\r\n    TabbarComponent\r\n  ]\r\n})\r\nexport class TabbarModule { }\r\n","import * as KatAction from './store/actions'\r\nimport * as KatResolver from './resolver'\r\nimport * as KatSelectors from './store/selectors'\r\nimport * as KatState from './state'\r\n\r\nexport { KatAction, KatResolver, KatSelectors, KatState }","import { Injectable } from \"@angular/core\"\r\nimport { ActivatedRouteSnapshot, Resolve, RouterStateSnapshot } from \"@angular/router\"\r\nimport { select, Store } from \"@ngrx/store\"\r\nimport { Observable } from \"rxjs\"\r\nimport { filter, finalize, first, tap } from \"rxjs/operators\"\r\nimport { RootStoreState } from \"src/app/store/root-store.state\"\r\nimport { KatAction } from \".\"\r\nimport { isKatLoaded } from \"./store/selectors\"\r\n\r\n@Injectable()\r\nexport class KatResolver implements Resolve<any> {\r\n    loading = false\r\n\r\n    constructor(private store: Store<RootStoreState>) {}\r\n\r\n    resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<any> {\r\n        return this.store.pipe(\r\n            select(isKatLoaded),\r\n            tap((isKatLoaded) => {\r\n                if (!this.loading && !isKatLoaded) {\r\n                    this.loading = true\r\n                    setTimeout(() => {\r\n                        this.store.dispatch(KatAction.loadAllShip())\r\n                        this.store.dispatch(KatAction.loadPruefvermerke())\r\n                        this.store.dispatch(KatAction.loadPruefvermerkKategorien())\r\n                        this.store.dispatch(KatAction.loadZaehlerstandstypen())\r\n                        this.store.dispatch(KatAction.loadDienststellen())\r\n                        this.store.dispatch(KatAction.loadBetriebsstoffe())\r\n                        this.store.dispatch(KatAction.loadFunktionen())\r\n                        this.store.dispatch(KatAction.loadLastPositions())\r\n                        this.store.dispatch(KatAction.loadKennungen())\r\n                        this.store.dispatch(KatAction.loadZwecke())\r\n                    }, 1000)\r\n                }\r\n            }),\r\n            filter(isKatLoaded => isKatLoaded),\r\n            first(),\r\n            finalize(() => this.loading = false)\r\n        )\r\n    }\r\n}","import { Injectable } from '@angular/core'\r\nimport { Actions, createEffect, ofType } from '@ngrx/effects'\r\nimport { concatMap, map, switchMap, tap } from 'rxjs/operators'\r\nimport { Betankung } from 'src/app/core/model/betankung'\r\nimport { Checklist } from 'src/app/core/model/checklist.model'\r\nimport { Geraetebuch } from 'src/app/core/model/geraetebuch.model'\r\nimport { Patrol } from 'src/app/core/model/patrol.model'\r\nimport { Peilung } from 'src/app/core/model/peilung.model'\r\nimport { Reparatur } from 'src/app/core/model/reparatur'\r\nimport { Ship } from 'src/app/core/model/ship.model'\r\nimport { Tank } from 'src/app/core/model/tank.model'\r\nimport { AppService } from 'src/app/core/services/app.service'\r\n\r\nimport { ShipAction } from '.'\r\nimport { deleteReparaturFoto, deleteReparaturFotoSuccess, downloadReparaturFotos, downloadReparaturFotosSuccess, updateReparaturSuccess, uploadReparaturFoto, uploadReparaturFotoSuccess } from './ship.actions'\r\n \r\n@Injectable()\r\nexport class ShipEffects {\r\n    loadShip$ = createEffect(() => {\r\n        return this.actions$.pipe(\r\n            ofType(ShipAction.loadShip),\r\n            switchMap(action => {\r\n                return this.appService.getSchiff(action.id_ship).pipe(\r\n                    map((ship: Ship) => ShipAction.shipLoaded({ ship }))\r\n                )\r\n            })\r\n        )\r\n    })\r\n    updateShip$ = createEffect(() => {\r\n        return this.actions$.pipe(\r\n            ofType(ShipAction.updateShip),\r\n            switchMap(action => {\r\n                return this.appService.updateSchiff(action.update).pipe(\r\n                    map(() => ShipAction.updateShipSuccess({ update: action.update }))\r\n                )\r\n            })\r\n        )\r\n    })\r\n\r\n\r\n    loadPatrol$ = createEffect(() => {\r\n        return this.actions$.pipe(\r\n            ofType(ShipAction.loadPatrol),\r\n            switchMap(action => {\r\n                return this.appService.getStreifeVonSchiff(action.id_ship).pipe(\r\n                    map((patrol: Patrol) => ShipAction.patrolLoaded({ patrol }))\r\n                )\r\n            })\r\n        )\r\n    })\r\n    \r\n    insertPatrol$ = createEffect(() => {\r\n        return this.actions$.pipe(\r\n            ofType(ShipAction.insertPatrol),\r\n            switchMap(action => {\r\n                return this.appService.insertStreife(action.insert).pipe(\r\n                    map(id => ShipAction.insertPatrolSuccess({ action, id }))\r\n                )\r\n            })\r\n        )\r\n    })\r\n    updatePatrol$ = createEffect(() => {\r\n        return this.actions$.pipe(\r\n            ofType(ShipAction.updatePatrol),\r\n            switchMap(action => {\r\n                return this.appService.updateStreife(action.update).pipe(\r\n                    map(() => ShipAction.updatePatrolSuccess({ action }))\r\n                )\r\n            })\r\n        )\r\n    })\r\n    deletePatrol$ = createEffect(() => {\r\n        return this.actions$.pipe(\r\n            ofType(ShipAction.deletePatrol),\r\n            switchMap(action => {\r\n                return this.appService.deleteStreife(action.id).pipe(\r\n                    map(status => ShipAction.deletePatrolSuccess({ status }))\r\n                )\r\n            })\r\n        )\r\n    })\r\n\r\n    loadReparaturen$ = createEffect(() => {\r\n        return this.actions$.pipe(\r\n            ofType(ShipAction.loadReparaturen),\r\n            switchMap(action => {\r\n                return this.appService.getReparaturen(action.id_ship).pipe(\r\n                    map((reparaturen: Reparatur[]) => ShipAction.reparaturenLoaded({ reparaturen }))\r\n                )\r\n            })\r\n            // concatMap(action => this.appService.getReparaturen(action.id_ship)),\r\n            // map((reparaturen: Reparatur[]) => ShipAction.reparaturenLoaded({ reparaturen }))\r\n        )\r\n    })\r\n    insertReparatur$ = createEffect(() => {\r\n        return this.actions$.pipe(\r\n            ofType(ShipAction.insertReparatur),\r\n            switchMap(action => {\r\n                return this.appService.insertReparatur(action.insert).pipe(\r\n                    map(id => ShipAction.insertReparaturSuccess({ action, id }))\r\n                )\r\n            })\r\n        )\r\n    })\r\n    updateReparatur$ = createEffect(() => {\r\n        return this.actions$.pipe(\r\n            ofType(ShipAction.updateReparatur),\r\n            switchMap(action => {\r\n                return this.appService.updateReparatur(action.update).pipe(\r\n                    map((id: string) => updateReparaturSuccess(action))\r\n                )\r\n            })\r\n        )\r\n    })\r\n\r\n    // reparaturfotos\r\n    downloadReparaturFotos$ = createEffect(() => {\r\n        return this.actions$.pipe(\r\n            ofType(downloadReparaturFotos),\r\n            concatMap(action => this.appService.downloadReparaturFoto(action.id)),\r\n            map((fotos: any[]) => downloadReparaturFotosSuccess({ fotos }))\r\n        )\r\n    })\r\n    uploadReparaturFoto$ = createEffect(() => {\r\n        return this.actions$.pipe(\r\n            ofType(uploadReparaturFoto),\r\n            switchMap(action => {\r\n                return this.appService.uploadReparaturFoto(action.upload).pipe(\r\n                    map((id: string) => uploadReparaturFotoSuccess({ action, id }))\r\n                )\r\n            })\r\n        )\r\n    })\r\n    deleteReparaturFoto$ = createEffect(() => {\r\n        return this.actions$.pipe(\r\n            ofType(deleteReparaturFoto),\r\n            switchMap(action => {\r\n                return this.appService.deleteReparaturFoto(action.id).pipe(\r\n                    map(() => deleteReparaturFotoSuccess(action))\r\n                )\r\n            })\r\n        )\r\n    })\r\n\r\n    // betankung\r\n    loadBetankungen$ = createEffect(() => {\r\n        return this.actions$.pipe(\r\n            ofType(ShipAction.loadBetankungen),\r\n            switchMap(action => {\r\n                return this.appService.getBetankungen(action.id_ship).pipe(\r\n                    map((betankungen: Betankung[]) => ShipAction.betankungenLoaded({ betankungen }))\r\n                )\r\n            })\r\n        )\r\n    })\r\n    insertBetankung$ = createEffect(() => {\r\n        return this.actions$.pipe(\r\n            ofType(ShipAction.insertBetankung),\r\n            switchMap(action => {\r\n                return this.appService.insertBetankung(action.insert).pipe(\r\n                    map(id => ShipAction.insertBetankungSuccess({ action, id }))\r\n                )\r\n            })\r\n        )\r\n    })\r\n    updateBetankung$ = createEffect(() => {\r\n        return this.actions$.pipe(\r\n            ofType(ShipAction.updateBetankung),\r\n            switchMap(action => {\r\n                return this.appService.updateBetankung(action.update.changes)\r\n            })\r\n        )\r\n    })\r\n    deleteBetankung$ = createEffect(() => {\r\n        return this.actions$.pipe(\r\n            ofType(ShipAction.deleteBetankung),\r\n            switchMap(action => {\r\n                return this.appService.deleteBetankung(action.id)\r\n            })\r\n        )\r\n    }, { dispatch: false })\r\n\r\n    // tank\r\n    loadTank$ = createEffect(() => {\r\n        return this.actions$.pipe(\r\n            ofType(ShipAction.loadTank),\r\n            switchMap(action => {\r\n                return this.appService.getTanksVonSchiff(action.id_ship).pipe(\r\n                    map((tanks: Tank[]) => ShipAction.loadedTank({ tanks }))\r\n                )\r\n            })\r\n        )\r\n    })\r\n\r\n    // besatzung\r\n    insertBesatzung$ = createEffect(() => {\r\n        return this.actions$.pipe(\r\n            ofType(ShipAction.insertPatrolBesatzung),\r\n            switchMap(action => {\r\n                return this.appService.insertBesatzung(action.insert).pipe(\r\n                    map(id => ShipAction.insertPatrolBesatzungSuccess({ action, id }))\r\n                )\r\n            })\r\n        )\r\n    })\r\n    updateBesatzung$ = createEffect(() => {\r\n        return this.actions$.pipe(\r\n            ofType(ShipAction.updatePatrolBesatzung),\r\n            switchMap(action => {\r\n                return this.appService.updateBesatzung(action.update.changes)\r\n            })\r\n        )\r\n    })\r\n    deleteBesatzung$ = createEffect(() => {\r\n        return this.actions$.pipe(\r\n            ofType(ShipAction.deletePatrolBesatzung),\r\n            switchMap(action => {\r\n                return this.appService.deleteBesatzung(action.id)\r\n            })\r\n        )\r\n    }, { dispatch: false })\r\n\r\n    // peilung\r\n    loadPeilung$ = createEffect(() => {\r\n        return this.actions$.pipe(\r\n            ofType(ShipAction.loadPeilung),\r\n            switchMap(action => {\r\n                return this.appService.getPeilung(action.id_ship).pipe(\r\n                    map((peilungen: Peilung[]) => ShipAction.loadedPeilung({ peilungen }))\r\n                )\r\n            })\r\n        )\r\n    })\r\n    insertPeilung$ = createEffect(() => {\r\n        return this.actions$.pipe(\r\n            ofType(ShipAction.insertPeilung),\r\n            switchMap(action => {\r\n                return this.appService.insertPeilung(action.insert).pipe(\r\n                    map(id => ShipAction.insertPeilungSuccess({ action, id }))\r\n                )\r\n            })\r\n        )\r\n    })\r\n    updatePeilung$ = createEffect(() => {\r\n        return this.actions$.pipe(\r\n            ofType(ShipAction.updatePeilung),\r\n            // switchMap(action => {\r\n            //     return this.appService.updatePeilung(action.peilung)\r\n            // })\r\n        )\r\n    })\r\n\r\n    // checklist\r\n    loadChecklist$ = createEffect(() => {\r\n        return this.actions$.pipe(\r\n            ofType(ShipAction.loadChecklist),\r\n            switchMap(action => {\r\n                return this.appService.getLastChecklist(action.id_ship).pipe(\r\n                    map((checklist: Checklist) => ShipAction.loadedChecklist({ checklist }))\r\n                    \r\n                )\r\n            })\r\n        )\r\n    })\r\n    insertChecklist$ = createEffect(() => {\r\n        return this.actions$.pipe(\r\n            ofType(ShipAction.insertChecklist),\r\n            switchMap(action => {\r\n                return this.appService.insertCheckliste(action.insert)\r\n            })\r\n        )\r\n    }) \r\n    \r\n\r\n    constructor(private actions$: Actions, private appService: AppService ) {}\r\n}","import { NgModule } from '@angular/core'\r\nimport { EffectsModule } from '@ngrx/effects'\r\nimport { StoreModule } from '@ngrx/store'\r\nimport { Features } from 'src/app/core/model/feature'\r\nimport { AppService } from 'src/app/core/services/app.service'\r\nimport { ShipEffects } from './ship.effects'\r\nimport { shipReducer } from './ship.reducers'\r\n\r\n@NgModule({\r\n  imports: [\r\n    StoreModule.forFeature(Features.Ship, shipReducer),\r\n    EffectsModule.forFeature([ShipEffects])\r\n  ],\r\n  providers: [\r\n    \r\n  ]\r\n})\r\nexport class ShipModule { }\r\n","import { state } from \"@angular/animations\"\r\nimport { createReducer, on, Store } from \"@ngrx/store\"\r\nimport { Besatzung } from \"src/app/core/model/besatzung.model\"\r\nimport { Betankung } from \"src/app/core/model/betankung\"\r\nimport { Checklist } from \"src/app/core/model/checklist.model\"\r\nimport { Checklistitem } from \"src/app/core/model/checklistitem.model\"\r\nimport { Einsatzmittel } from \"src/app/core/model/einsatzmittel.model\"\r\nimport { Geraetebuch } from \"src/app/core/model/geraetebuch.model\"\r\nimport { Patrol } from \"src/app/core/model/patrol.model\"\r\nimport { Peilung } from \"src/app/core/model/peilung.model\"\r\nimport { Reparatur } from \"src/app/core/model/reparatur\"\r\nimport { checkStateForEmptyArrays } from \"src/app/shared/utils\"\r\n\r\nimport { ShipAction } from \".\"\r\nimport { State } from \"./ship.state\"\r\n\r\n\r\nexport const initialDataState: State = {\r\n    ship: undefined,\r\n    patrol: undefined,\r\n    // patrol: { id_ship: '', purpose: '', status: 'In Vorbereitung', crew: [], start: '', end: '', identifier: ''},\r\n    isAllDataLoaded: false\r\n}\r\n\r\nexport const shipReducer = createReducer(\r\n    initialDataState,\r\n    on(ShipAction.shipLoaded, (state, action) => {\r\n        return {\r\n            ...state,\r\n            ship: action.ship\r\n        }\r\n    }),\r\n    on(ShipAction.updateShipSuccess, (state, action) => {\r\n        return {\r\n            ...state,\r\n            ship: action.update\r\n        }\r\n    }),\r\n    on(ShipAction.patrolLoaded, (state, action) => {\r\n        return {\r\n            ...state,\r\n            patrol: action.patrol\r\n        }\r\n    }),\r\n    on(ShipAction.initializePatrol, (state, action) => {\r\n        let patrol: Patrol = Object.assign({}, action.initialize)\r\n        return {\r\n            ...state,\r\n            patrol: patrol\r\n        }\r\n    }),\r\n    on(ShipAction.insertPatrolSuccess, (state, action) => {\r\n        let patrol: Patrol = Object.assign({}, action.action.insert, { id: action.id })\r\n        return {\r\n            ...state,\r\n            patrol: patrol\r\n        }\r\n    }),\r\n    on(ShipAction.updatePatrolSuccess, (state, action) => {\r\n        let patrol: Patrol = action.action.update\r\n        return {\r\n            ...state,\r\n            patrol: patrol\r\n        }\r\n    }),\r\n    on(ShipAction.deletePatrolSuccess, (state, action) => {\r\n        return {\r\n            ...state,\r\n            patrol: undefined\r\n        }\r\n    }),\r\n    \r\n    on(ShipAction.reparaturenLoaded, (state, action) => {\r\n        return {\r\n            ...state,\r\n            reparaturen: action.reparaturen\r\n        }\r\n    }),\r\n    on(ShipAction.betankungenLoaded, (state, action) => {\r\n        return {\r\n            ...state,\r\n            betankungen: action.betankungen\r\n        }\r\n    }),\r\n    on(ShipAction.loadedTank, (state, action) => {\r\n        return {\r\n            ...state,\r\n            tanks: action.tanks\r\n        }\r\n    }),\r\n\r\n    // besatzung\r\n    on(ShipAction.insertPatrolBesatzungSuccess, (state, action) => {\r\n        let besatzung: Besatzung = Object.assign({}, action.action.insert, { id: action.id })\r\n        let clearedBesatzung: Besatzung[] | undefined = checkStateForEmptyArrays(state.patrol?.besatzung)\r\n        clearedBesatzung = [...clearedBesatzung!, ...[besatzung]]\r\n        return {\r\n            ...state,\r\n            patrol: Object.assign({}, state.patrol, { besatzung: clearedBesatzung })\r\n        }\r\n    }),\r\n    on(ShipAction.updatePatrolBesatzung, (state, action) => {\r\n        let clearedBesatzung: Besatzung[] = state.patrol?.besatzung.filter(el => el.id != action.update.changes.id)!\r\n        clearedBesatzung.push(action.update.changes as Besatzung)\r\n        return {\r\n            ...state,\r\n            patrol: Object.assign({}, state.patrol, { besatzung: clearedBesatzung })\r\n        }\r\n    }),\r\n    on(ShipAction.deletePatrolBesatzung, (state, action) => {\r\n        const newState = state.patrol?.besatzung.filter(el => el.id !== action.id)\r\n        return {\r\n            ...state,\r\n            patrol: Object.assign({}, state.patrol, { besatzung: newState })\r\n        }\r\n    }),\r\n\r\n    // betankung\r\n    on(ShipAction.insertBetankungSuccess, (state, action) => {\r\n        let betankung: Betankung = Object.assign({}, action.action.insert, { id: action.id })\r\n        let clearedBetankung: Betankung[] | undefined = checkStateForEmptyArrays(state.betankungen)\r\n        clearedBetankung = [...clearedBetankung!, ...[betankung]]\r\n        return {\r\n            ...state,\r\n            betankungen: clearedBetankung\r\n        }\r\n    }),\r\n\r\n    // pruefvermerk\r\n    on(ShipAction.insertReparaturSuccess, (state, action) => {\r\n        let pruefvermerk: Reparatur = Object.assign({}, action.action.insert, { id: action.id })\r\n        let clearedPruefvermerk: Reparatur[] | undefined = checkStateForEmptyArrays(state.reparaturen)\r\n        clearedPruefvermerk = [...clearedPruefvermerk!, ...[pruefvermerk]]\r\n        return {\r\n            ...state,\r\n            reparaturen: clearedPruefvermerk\r\n        }\r\n    }),\r\n    on(ShipAction.updateReparaturSuccess, (state, action) => {\r\n        let cleared: Reparatur[] = state.reparaturen?.filter(el => el.id != action.update.id)!\r\n        let pruefvermerk: Reparatur = Object.assign({}, action.update)\r\n        cleared = [...cleared!, ...[pruefvermerk]]\r\n        return {\r\n            ...state,\r\n            reparaturen: cleared\r\n        }\r\n    }),\r\n    //peilungen\r\n    on(ShipAction.loadedPeilung, (state, action) => {\r\n        return {\r\n            ...state,\r\n            peilungen: action.peilungen\r\n        }\r\n    }),\r\n    on(ShipAction.insertPeilungSuccess, (state, action) => {\r\n        let peilung: Peilung = Object.assign({}, action.action.insert, { id: action.id })\r\n        let clearedPeilung: Peilung[] | undefined = checkStateForEmptyArrays(state.peilungen)\r\n        clearedPeilung = clearedPeilung?.filter(el => el.bezeichnung != action.action.insert.bezeichnung)\r\n        clearedPeilung = [...clearedPeilung!, ...[peilung]]\r\n        return {\r\n            ...state,\r\n            peilungen: clearedPeilung\r\n        }\r\n    }),\r\n    on(ShipAction.updatePeilung, (state, action) => {\r\n        let clearedPeilungen = [...state.peilungen!]\r\n        clearedPeilungen = clearedPeilungen.filter(el => el.id != action.peilung.id)\r\n        clearedPeilungen.push(action.peilung)\r\n        // ggf. siehe ipdateChecklist\r\n\r\n        return {\r\n            ...state,\r\n            peilungen: clearedPeilungen\r\n        }\r\n    }),\r\n    // checklist\r\n    on(ShipAction.loadedChecklist, (state, action) => {\r\n        return {\r\n            ...state,\r\n            checklist: action.checklist\r\n        }\r\n    }),\r\n    on(ShipAction.updateChecklist, (state, action) => {\r\n        let checklist: Checklist = Object.assign({}, action.update)\r\n\r\n        // let cleared: Checklist | undefined = state.checklist\r\n        // if (cleared) {\r\n        //     cleared.checklistItems = cleared.checklistItems?.filter(el => el.id != action.updateItem.id)\r\n        //     cleared.checklistItems = [...cleared.checklistItems!, ...[checklist]]\r\n        // }\r\n        return {\r\n            ...state,\r\n            checklist: checklist\r\n        }\r\n    }),\r\n\r\n    on(ShipAction.resetStore, (state, action)  => {\r\n        // return {\r\n        //     ship: undefined,\r\n        //     isAllDataLoaded: false\r\n        // }\r\n        return Object.assign({}, initialDataState)\r\n    }),\r\n\r\n    // reparaturfotos\r\n    on(ShipAction.downloadReparaturFotosSuccess, (state, action) => {\r\n        return {\r\n            ...state,\r\n            reparaturfotos: action.fotos\r\n        }\r\n    }),\r\n    on(ShipAction.uploadReparaturFotoSuccess, (state, action) => {\r\n        let reparaturfoto: any = Object.assign({}, action.action.upload, { id: action.id })\r\n        let cleared: any[] | undefined = checkStateForEmptyArrays(state.reparaturfotos)\r\n        cleared = cleared?.filter(el => el.id != action.action.upload.id)\r\n        cleared = (cleared) ? [...cleared!, ...[reparaturfoto]] : [reparaturfoto]\r\n        return {\r\n            ...state,\r\n            reparaturfotos: cleared\r\n        }\r\n    }),\r\n    on(ShipAction.deleteReparaturFotoSuccess, (state, action) => {\r\n        let cleared: any[] | undefined = checkStateForEmptyArrays(state.reparaturfotos)\r\n        cleared = cleared?.filter(el => el.id != action.id)\r\n        cleared = [...cleared!]\r\n        return {\r\n            ...state,\r\n            reparaturfotos: cleared\r\n        }\r\n    })\r\n)\r\n"],"sourceRoot":"webpack:///"}