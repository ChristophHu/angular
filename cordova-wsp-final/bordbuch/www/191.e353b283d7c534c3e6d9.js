(self.webpackChunkbordbuch_wsp_final=self.webpackChunkbordbuch_wsp_final||[]).push([[191],{2302:(e,t,i)=>{"use strict";i.d(t,{w:()=>n});var a=i(5366);const s=["*"];let n=(()=>{class e{constructor(){this.tabs=[],this.labelField="",this.onTabSelect=new a.vpe}select(e){console.log(e),this.onTabSelect.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Xpm({type:e,selectors:[["tabbar"]],inputs:{tabs:"tabs",labelField:"labelField",active:"active"},outputs:{onTabSelect:"onTabSelect"},ngContentSelectors:s,decls:2,vars:0,consts:[[1,"absolute","h-12","w-full","px-4","bottom-0","bg-white","dark:bg-gray-900"]],template:function(e,t){1&e&&(a.F$t(),a.TgZ(0,"nav",0),a.Hsn(1),a.qZA())},styles:["nav[_ngcontent-%COMP%]{bottom:0;display:flex;height:4rem;width:100%;align-items:center}.active[_ngcontent-%COMP%]{--tw-text-opacity:1;color:rgba(147,197,253,var(--tw-text-opacity))}"]}),e})()},3649:(e,t,i)=>{"use strict";i.d(t,{m:()=>n});var a=i(1116),s=i(5366);let n=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[a.ez]]}),e})()},8509:(e,t,i)=>{"use strict";function a(e){return function(e){return Array.isArray(e)}(e)?e:[]}function s(e){return e.setHours((new Date).getHours()+1),e.toISOString().substring(0,16)}i.d(t,{ie:()=>a,r$:()=>s})},63:(e,t,i)=>{"use strict";i.d(t,{NZ:()=>a,sO:()=>s});var a=i(5762),s=i(9870)},6907:(e,t,i)=>{"use strict";i.d(t,{VL:()=>a,Yn:()=>s,td:()=>n});const a=(0,i(322).H)(),s=a.getInitialState({isAllDataLoaded:!1}),{selectAll:n}=a.getSelectors()},7452:(e,t,i)=>{"use strict";i.d(t,{O:()=>S});var a=i(3395),s=i(1671);const n=(0,s.PH)("[Ship Resolver] Load All Ship"),r=(0,s.PH)("[Load Ship Effect] All Ship Loaded",(0,s.Ky)());var o=i(6907);const p=(0,s.Lq)(o.Yn,(0,s.on)(r,(e,t)=>o.VL.addMany(t.shipSelection,Object.assign(Object.assign({},e),{isAllDataLoaded:!0}))));var c=i(436),l=i(9996),u=i(5366),d=i(4438);let g=(()=>{class e{constructor(e,t){this.actions$=e,this.appService=t,this.loadData$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(n),(0,c.b)(e=>this.appService.getSchiffe()),(0,l.U)(e=>r({shipSelection:e}))))}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(a.eX),u.LFG(d.z))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e})();var h=i(2665);let S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({providers:[],imports:[[s.Aw.forFeature(h.A.ShipSelection,p),a.sQ.forFeature([g])]]}),e})()},5148:(e,t,i)=>{"use strict";i.d(t,{g:()=>v});var a=i(3395),s=i(1671),n=i(2665),r=i(4689),o=i(9996),p=i(436),c=i(114),l=i(3329),u=i(5366),d=i(4438);let g=(()=>{class e{constructor(e,t){this.actions$=e,this.appService=t,this.loadShip$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(c.KS.loadShip),(0,r.w)(e=>this.appService.getSchiff(e.id_ship).pipe((0,o.U)(e=>c.KS.shipLoaded({ship:e})))))),this.loadPatrol$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(c.KS.loadPatrol),(0,r.w)(e=>this.appService.getStreifeVonSchiff(e.id_ship).pipe((0,o.U)(e=>c.KS.patrolLoaded({patrol:e})))))),this.insertPatrol$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(c.KS.insertPatrol),(0,r.w)(e=>this.appService.insertStreife(e.insert).pipe((0,o.U)(t=>c.KS.insertPatrolSuccess({action:e,id:t})))))),this.updatePatrol$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(c.KS.updatePatrol),(0,r.w)(e=>this.appService.updateStreife(e.update)))),this.deletePatrol$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(c.KS.deletePatrol),(0,r.w)(e=>this.appService.deleteStreife(e.id).pipe((0,o.U)(e=>c.KS.deletePatrolSuccess({status:e})))))),this.loadReparaturen$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(c.KS.loadReparaturen),(0,r.w)(e=>this.appService.getReparaturen(e.id_ship).pipe((0,o.U)(e=>c.KS.reparaturenLoaded({reparaturen:e})))))),this.insertReparatur$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(c.KS.insertReparatur),(0,r.w)(e=>this.appService.insertReparatur(e.insert).pipe((0,o.U)(t=>c.KS.insertReparaturSuccess({action:e,id:t})))))),this.updateReparatur$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(c.KS.updateReparatur),(0,r.w)(e=>this.appService.updateReparatur(e.update).pipe((0,o.U)(t=>(0,l.updateReparaturSuccess)(e)))))),this.downloadReparaturFotos$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(l.downloadReparaturFotos),(0,p.b)(e=>this.appService.downloadReparaturFoto(e.id)),(0,o.U)(e=>(0,l.downloadReparaturFotosSuccess)({fotos:e})))),this.uploadReparaturFoto$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(l.uploadReparaturFoto),(0,r.w)(e=>this.appService.uploadReparaturFoto(e.upload).pipe((0,o.U)(t=>(0,l.uploadReparaturFotoSuccess)({action:e,id:t})))))),this.deleteReparaturFoto$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(l.deleteReparaturFoto),(0,r.w)(e=>this.appService.deleteReparaturFoto(e.id).pipe((0,o.U)(()=>(0,l.deleteReparaturFotoSuccess)(e)))))),this.loadBetankungen$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(c.KS.loadBetankungen),(0,r.w)(e=>this.appService.getBetankungen(e.id_ship).pipe((0,o.U)(e=>c.KS.betankungenLoaded({betankungen:e})))))),this.insertBetankung$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(c.KS.insertBetankung),(0,r.w)(e=>this.appService.insertBetankung(e.insert).pipe((0,o.U)(t=>c.KS.insertBetankungSuccess({action:e,id:t})))))),this.updateBetankung$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(c.KS.updateBetankung),(0,r.w)(e=>this.appService.updateBetankung(e.update.changes)))),this.deleteBetankung$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(c.KS.deleteBetankung),(0,r.w)(e=>this.appService.deleteBetankung(e.id))),{dispatch:!1}),this.loadTank$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(c.KS.loadTank),(0,r.w)(e=>this.appService.getTanksVonSchiff(e.id_ship).pipe((0,o.U)(e=>c.KS.loadedTank({tanks:e})))))),this.insertBesatzung$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(c.KS.insertPatrolBesatzung),(0,r.w)(e=>this.appService.insertBesatzung(e.insert).pipe((0,o.U)(t=>c.KS.insertPatrolBesatzungSuccess({action:e,id:t})))))),this.updateBesatzung$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(c.KS.updatePatrolBesatzung),(0,r.w)(e=>this.appService.updateBesatzung(e.update.changes)))),this.deleteBesatzung$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(c.KS.deletePatrolBesatzung),(0,r.w)(e=>this.appService.deleteBesatzung(e.id))),{dispatch:!1}),this.loadPeilung$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(c.KS.loadPeilung),(0,r.w)(e=>this.appService.getPeilung(e.id_ship).pipe((0,o.U)(e=>c.KS.loadedPeilung({peilungen:e})))))),this.insertPeilung$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(c.KS.insertPeilung),(0,r.w)(e=>this.appService.insertPeilung(e.insert).pipe((0,o.U)(t=>c.KS.insertPeilungSuccess({action:e,id:t})))))),this.updatePeilung$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(c.KS.updatePeilung))),this.loadChecklist$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(c.KS.loadChecklist),(0,r.w)(e=>this.appService.getLastChecklist(e.id_ship).pipe((0,o.U)(e=>c.KS.loadedChecklist({checklist:e})))))),this.insertChecklist$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(c.KS.insertChecklist),(0,r.w)(e=>this.appService.insertCheckliste(e.insert))))}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(a.eX),u.LFG(d.z))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e})();var h=i(8509);const S={ship:void 0,patrol:void 0,isAllDataLoaded:!1},b=(0,s.Lq)(S,(0,s.on)(c.KS.shipLoaded,(e,t)=>Object.assign(Object.assign({},e),{ship:t.ship})),(0,s.on)(c.KS.patrolLoaded,(e,t)=>Object.assign(Object.assign({},e),{patrol:t.patrol})),(0,s.on)(c.KS.initializePatrol,(e,t)=>{let i=Object.assign({},t.initialize);return Object.assign(Object.assign({},e),{patrol:i})}),(0,s.on)(c.KS.insertPatrolSuccess,(e,t)=>{let i=Object.assign({},t.action.insert,{id:t.id});return Object.assign(Object.assign({},e),{patrol:i})}),(0,s.on)(c.KS.updatePatrol,(e,t)=>{let i=t.update;return Object.assign(Object.assign({},e),{patrol:i})}),(0,s.on)(c.KS.deletePatrolSuccess,(e,t)=>Object.assign(Object.assign({},e),{patrol:void 0})),(0,s.on)(c.KS.reparaturenLoaded,(e,t)=>Object.assign(Object.assign({},e),{reparaturen:t.reparaturen})),(0,s.on)(c.KS.betankungenLoaded,(e,t)=>Object.assign(Object.assign({},e),{betankungen:t.betankungen})),(0,s.on)(c.KS.loadedTank,(e,t)=>Object.assign(Object.assign({},e),{tanks:t.tanks})),(0,s.on)(c.KS.insertPatrolBesatzungSuccess,(e,t)=>{var i;let a=Object.assign({},t.action.insert,{id:t.id}),s=(0,h.ie)(null===(i=e.patrol)||void 0===i?void 0:i.besatzung);return s=[...s,a],Object.assign(Object.assign({},e),{patrol:Object.assign({},e.patrol,{besatzung:s})})}),(0,s.on)(c.KS.updatePatrolBesatzung,(e,t)=>{var i;let a=null===(i=e.patrol)||void 0===i?void 0:i.besatzung.filter(e=>e.id!=t.update.changes.id);return a.push(t.update.changes),Object.assign(Object.assign({},e),{patrol:Object.assign({},e.patrol,{besatzung:a})})}),(0,s.on)(c.KS.deletePatrolBesatzung,(e,t)=>{var i;const a=null===(i=e.patrol)||void 0===i?void 0:i.besatzung.filter(e=>e.id!==t.id);return Object.assign(Object.assign({},e),{patrol:Object.assign({},e.patrol,{besatzung:a})})}),(0,s.on)(c.KS.insertBetankungSuccess,(e,t)=>{let i=Object.assign({},t.action.insert,{id:t.id}),a=(0,h.ie)(e.betankungen);return a=[...a,i],Object.assign(Object.assign({},e),{betankungen:a})}),(0,s.on)(c.KS.insertReparaturSuccess,(e,t)=>{let i=Object.assign({},t.action.insert,{id:t.id}),a=(0,h.ie)(e.reparaturen);return a=[...a,i],Object.assign(Object.assign({},e),{reparaturen:a})}),(0,s.on)(c.KS.updateReparaturSuccess,(e,t)=>{var i;let a=null===(i=e.reparaturen)||void 0===i?void 0:i.filter(e=>e.id!=t.update.id),s=Object.assign({},t.update);return a=[...a,s],Object.assign(Object.assign({},e),{reparaturen:a})}),(0,s.on)(c.KS.loadedPeilung,(e,t)=>Object.assign(Object.assign({},e),{peilungen:t.peilungen})),(0,s.on)(c.KS.insertPeilungSuccess,(e,t)=>{let i=Object.assign({},t.action.insert,{id:t.id}),a=(0,h.ie)(e.peilungen);return a=null==a?void 0:a.filter(e=>e.bezeichnung!=t.action.insert.bezeichnung),a=[...a,i],Object.assign(Object.assign({},e),{peilungen:a})}),(0,s.on)(c.KS.updatePeilung,(e,t)=>{let i=[...e.peilungen];return i=i.filter(e=>e.id!=t.peilung.id),i.push(t.peilung),Object.assign(Object.assign({},e),{peilungen:i})}),(0,s.on)(c.KS.loadedChecklist,(e,t)=>Object.assign(Object.assign({},e),{checklist:t.checklist})),(0,s.on)(c.KS.updateChecklist,(e,t)=>{let i=Object.assign({},t.update);return Object.assign(Object.assign({},e),{checklist:i})}),(0,s.on)(c.KS.resetStore,(e,t)=>Object.assign({},S)),(0,s.on)(c.KS.downloadReparaturFotosSuccess,(e,t)=>Object.assign(Object.assign({},e),{reparaturfotos:t.fotos})),(0,s.on)(c.KS.uploadReparaturFotoSuccess,(e,t)=>{let i=Object.assign({},t.action.upload,{id:t.id}),a=(0,h.ie)(e.reparaturfotos);return a=null==a?void 0:a.filter(e=>e.id!=t.action.upload.id),a=a?[...a,i]:[i],Object.assign(Object.assign({},e),{reparaturfotos:a})}),(0,s.on)(c.KS.deleteReparaturFotoSuccess,(e,t)=>{let i=(0,h.ie)(e.reparaturfotos);return i=null==i?void 0:i.filter(e=>e.id!=t.id),i=[...i],Object.assign(Object.assign({},e),{reparaturfotos:i})}));let v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({providers:[],imports:[[s.Aw.forFeature(n.A.Ship,b),a.sQ.forFeature([g])]]}),e})()}}]);