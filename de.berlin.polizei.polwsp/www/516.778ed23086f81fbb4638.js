(self.webpackChunkbordbuch_wsp_final=self.webpackChunkbordbuch_wsp_final||[]).push([[516],{8516:(t,e,n)=>{"use strict";n.r(e),n.d(e,{QrscannerComponent:()=>m});var o=n(2179),i=n(5366),r=n(4872),a=n(6691),c=n(6304);const l=["*"];let s=(()=>{class t{constructor(t){this.modalService=t,this.display=!0}close(){var t=this;return(0,c.Z)(function*(){t.display=!1,yield t.modalService.close()})()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(a.Z))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-modal"]],ngContentSelectors:l,decls:4,vars:2,consts:[[1,"fixed","z-40","inset-0","overflow-y-auto",3,"click"],[1,"flex","items-center","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center","bg-gray-900","bg-opacity-40"],["role","dialog","aria-modal","true","aria-labelledby","modal-headline",1,"inline-block","align-bottom","bg-gray-100","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:align-middle","lg:max-w-lg","md:max-w-md","w-full",3,"click"]],template:function(t,e){1&t&&(i.F$t(),i.TgZ(0,"section",0),i.NdJ("click",function(){return e.close()}),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.NdJ("click",function(t){return t.stopPropagation()}),i.Hsn(3),i.qZA(),i.qZA(),i.qZA()),2&t&&i.ekj("open",e.display)},styles:["section[_ngcontent-%COMP%]{visibility:hidden;opacity:0;transition:opacity .25s ease-in}section.open[_ngcontent-%COMP%]{visibility:inherit;opacity:1}"]}),t})();var d=n(1116);const p=["modalComponent"];function u(t,e){1&t&&i.GkF(0)}function g(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",6),i.TgZ(1,"div"),i.TgZ(2,"button",7),i.NdJ("click",function(){return i.CHM(t),i.oxw().cancel()}),i._uU(3,"Abbrechen"),i.qZA(),i.qZA(),i.qZA()}}let m=(()=>{class t{constructor(t,e){this.router=t,this.modalService=e,this.id=0}ngAfterViewInit(){this.qrScannerComponent.getMediaDevices().then(t=>{console.log(t);const e=[];for(const n of t)"videoinput"===n.kind.toString()&&e.push(n);if(e.length>0){let t;for(const n of e)if(n.label.includes("front")){t=n;break}this.qrScannerComponent.chooseCamera.next(t||e[0])}}),this.qrScannerComponent.capturedQr.subscribe(t=>{var e;let n=JSON.parse(t);null===(e=this.modal)||void 0===e||e.close(),this.router.navigate(["/mobile","boot",n.id])})}ngOnInit(){this.modalService.getData().then(t=>{})}cancel(){var t;null===(t=this.modal)||void 0===t||t.close()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(r.F0),i.Y36(a.Z))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-qrscanner"]],viewQuery:function(t,e){if(1&t&&(i.Gf(p,5),i.Gf(o.H,5)),2&t){let t;i.iGM(t=i.CRH())&&(e.modal=t.first),i.iGM(t=i.CRH())&&(e.qrScannerComponent=t.first)}},decls:11,vars:6,consts:[["modalComponent",""],[1,"m-3","mb-5","text-xl"],[1,"content"],[1,"mt-5",3,"debug","canvasWidth","canvasHeight","stopAfterScan","updateTime"],[4,"ngTemplateOutlet"],["toolbar",""],[1,"py-3","flex","justify-between"],["type","button",1,"p-2","ml-3","bg-gray-800","text-white","rounded",3,"click"]],template:function(t,e){if(1&t&&(i.TgZ(0,"app-modal",null,0),i.TgZ(2,"header"),i.TgZ(3,"h2",1),i._uU(4,"Standort"),i.qZA(),i.qZA(),i.TgZ(5,"div",2),i._UZ(6,"qr-scanner",3),i.qZA(),i.TgZ(7,"footer"),i.YNc(8,u,1,0,"ng-container",4),i.qZA(),i.qZA(),i.YNc(9,g,4,0,"ng-template",null,5,i.W1O)),2&t){const t=i.MAs(10);i.xp6(6),i.Q6J("debug",!1)("canvasWidth",1080)("canvasHeight",720)("stopAfterScan",!0)("updateTime",500),i.xp6(2),i.Q6J("ngTemplateOutlet",t)}},directives:[s,o.H,d.tP],styles:["header{border-bottom-width:1px;padding-left:1.25rem;padding-right:1.25rem;padding-top:1.25rem}footer,header{--tw-bg-opacity:1;background-color:rgba(243,244,246,var(--tw-bg-opacity))}footer{border-top-width:1px;padding:.75rem 1.25rem}.content{padding:1.25rem}.content,.content-map{--tw-bg-opacity:1;background-color:rgba(255,255,255,var(--tw-bg-opacity))}"],encapsulation:2}),t})()}}]);