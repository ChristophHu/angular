(self.webpackChunkbordbuch_wsp_final=self.webpackChunkbordbuch_wsp_final||[]).push([[592],{959:(e,t,a)=>{"use strict";a.d(t,{z:()=>d});var i=a(6304),s=a(9713),n=a(5366),r=a(6691),o=a(1116);function l(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",3),n.NdJ("click",function(){return n.CHM(e),n.oxw().close()}),n.qZA()}2&e&&n.Q6J("@fadeIn",void 0)("@fadeOut",void 0)}function c(e,t){1&e&&(n.TgZ(0,"div",4),n.NdJ("click",function(e){return e.stopPropagation()}),n.Hsn(1),n.qZA()),2&e&&n.Q6J("@slideInRight",void 0)("@slideOutRight",void 0)}const p=["*"];let d=(()=>{class e{constructor(e){this.modalService=e,this.display=!0}close(){var e=this;return(0,i.Z)(function*(){e.display=!1,yield setTimeout(()=>{e.modalService.close()},400)})()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(r.Z))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-modal"]],ngContentSelectors:p,decls:3,vars:2,consts:[[1,"fixed","z-40","inset-0","overflow-hidden"],["class","min-h-screen bg-gray-800 bg-opacity-90",3,"click",4,"ngIf"],["class","absolute w-full lg:max-w-lg md:max-w-md top-0 bottom-0 right-0 bg-gray-50 dark:bg-gray-800 dark:text-gray-50 text-left overflow-hidden shadow-xl sm:align-middle",3,"click",4,"ngIf"],[1,"min-h-screen","bg-gray-800","bg-opacity-90",3,"click"],[1,"absolute","w-full","lg:max-w-lg","md:max-w-md","top-0","bottom-0","right-0","bg-gray-50","dark:bg-gray-800","dark:text-gray-50","text-left","overflow-hidden","shadow-xl","sm:align-middle",3,"click"]],template:function(e,t){1&e&&(n.F$t(),n.TgZ(0,"section",0),n.YNc(1,l,1,2,"div",1),n.YNc(2,c,2,2,"div",2),n.qZA()),2&e&&(n.xp6(1),n.Q6J("ngIf",t.display),n.xp6(1),n.Q6J("ngIf",t.display))},directives:[o.O5],styles:[""],data:{animation:[(0,s.X$)("fadeIn",[(0,s.SB)("void",(0,s.oB)({opacity:0})),(0,s.SB)("*",(0,s.oB)({opacity:1})),(0,s.eR)("void => false",[]),(0,s.eR)("void => *",(0,s.jt)("200ms cubic-bezier(0.0, 0.0, 0.2, 1)"))]),(0,s.X$)("fadeOut",[(0,s.SB)("*",(0,s.oB)({opacity:1})),(0,s.SB)("void",(0,s.oB)({opacity:0})),(0,s.eR)("false => void",[]),(0,s.eR)("* => void",(0,s.jt)("200ms 200ms cubic-bezier(0.0, 0.0, 0.2, 1)"))]),(0,s.X$)("slideInRight",[(0,s.SB)("void",(0,s.oB)({transform:"translate3d(100%, 0, 0)"})),(0,s.SB)("*",(0,s.oB)({transform:"translate3d(0, 0, 0)"})),(0,s.eR)("void => false",[]),(0,s.eR)("void => *",(0,s.jt)("200ms 100ms cubic-bezier(0.0, 0.0, 0.2, 1)"))]),(0,s.X$)("slideOutRight",[(0,s.SB)("*",(0,s.oB)({transform:"translate3d(0, 0, 0)"})),(0,s.SB)("void",(0,s.oB)({transform:"translate3d(100%, 0, 0)"})),(0,s.eR)("false => void",[]),(0,s.eR)("* => void",(0,s.jt)("200ms cubic-bezier(0.0, 0.0, 0.2, 1)"))])]}}),e})()},4151:(e,t,a)=>{"use strict";a.d(t,{NZ:()=>s,sO:()=>i});var i={};a.r(i),a.d(i,{isKatLoaded:()=>l,katState:()=>o,selectDienststellen:()=>d,selectShipByDienststelle:()=>p,selectShips:()=>c,selectpruefvermerke:()=>h,selectpruefvermerkeByKategorie:()=>g,selectpruefvermerkkategorien:()=>u});var s=a(1813),n=a(1671),r=a(2665);const o=(0,n.ZF)(r.A.Kat),l=(0,n.P1)(o,e=>e.isAllDataLoaded),c=(0,n.P1)(o,e=>e.shipSelection),p=e=>(0,n.P1)(c,t=>t.filter(t=>t.dienststelle==e)),d=(0,n.P1)(o,e=>e.dienststellen),u=(0,n.P1)(o,e=>e.pruefvermerkKategorien),h=(0,n.P1)(o,e=>e.pruefvermerke),g=e=>(0,n.P1)(h,t=>t.filter(t=>t.kategorie==e))},2799:(e,t,a)=>{"use strict";a.d(t,{R:()=>s,T:()=>n});var i=a(1671);const s=(0,i.PH)("[Ship Resolver] Load All Ship"),n=(0,i.PH)("[Load Ship Effect] All Ship Loaded",(0,i.Ky)())},6907:(e,t,a)=>{"use strict";a.d(t,{VL:()=>i,Yn:()=>s,td:()=>n});const i=(0,a(322).H)(),s=i.getInitialState({isAllDataLoaded:!1}),{selectAll:n}=i.getSelectors()},3624:(e,t,a)=>{"use strict";a.d(t,{O:()=>g});var i=a(3395),s=a(1671),n=a(2799),r=a(6907);const o=(0,s.Lq)(r.Yn,(0,s.on)(n.T,(e,t)=>r.VL.addMany(t.shipSelection,Object.assign(Object.assign({},e),{isAllDataLoaded:!0}))));var l=a(436),c=a(9996),p=a(5366),d=a(9204);let u=(()=>{class e{constructor(e,t){this.actions$=e,this.appService=t,this.loadData$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(n.R),(0,l.b)(e=>this.appService.getSchiffe()),(0,c.U)(e=>(0,n.T)({shipSelection:e}))))}}return e.\u0275fac=function(t){return new(t||e)(p.LFG(i.eX),p.LFG(d.z))},e.\u0275prov=p.Yz7({token:e,factory:e.\u0275fac}),e})();var h=a(2665);let g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({providers:[d.z],imports:[[s.Aw.forFeature(h.A.ShipSelection,o),i.sQ.forFeature([u])]]}),e})()},16:(e,t,a)=>{"use strict";a.d(t,{T:()=>u});var i=a(1671),s=a(4019),n=a(3835),r=a(3530),o=a(1520),l=a(4151),c=a(2799),p=a(1081),d=a(5366);let u=(()=>{class e{constructor(e){this.store=e,this.loading=!1}resolve(e,t){return this.store.pipe((0,i.Ys)(p.zO),(0,s.b)(e=>{this.loading||e||(this.loading=!0,this.store.dispatch((0,c.R)()),this.store.dispatch(l.NZ.loadAllShip()),this.store.dispatch(l.NZ.loadPruefvermerke()),this.store.dispatch(l.NZ.loadPruefvermerkKategorien()),this.store.dispatch(l.NZ.loadZaehlerstandstypen()),this.store.dispatch(l.NZ.loadDienststellen()))}),(0,n.h)(e=>e),(0,r.P)(),(0,o.x)(()=>this.loading=!1))}}return e.\u0275fac=function(t){return new(t||e)(d.LFG(i.yh))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac}),e})()},1081:(e,t,a)=>{"use strict";a.d(t,{zO:()=>o,Zb:()=>l});var i=a(1671),s=a(2665),n=a(6907);const r=(0,i.ZF)(s.A.ShipSelection),o=(0,i.P1)(r,e=>e.isAllDataLoaded),l=(0,i.P1)(r,n.td)},5148:(e,t,a)=>{"use strict";a.d(t,{g:()=>S});var i=a(3395),s=a(1671),n=a(2665),r=a(9204),o=a(4689),l=a(9996),c=a(4019),p=a(1673),d=a(5366);let u=(()=>{class e{constructor(e,t){this.actions$=e,this.appService=t,this.loadShip$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(p.KS.loadShip),(0,o.w)(e=>this.appService.getSchiff(e.id_ship).pipe((0,l.U)(e=>p.KS.shipLoaded({ship:e})))))),this.loadPatrol$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(p.KS.loadPatrol),(0,o.w)(e=>this.appService.getStreifeVonSchiff(e.id_ship).pipe((0,c.b)(e=>console.log(e)),(0,l.U)(e=>p.KS.patrolLoaded({patrol:e})))))),this.insertPatrol$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(p.KS.insertPatrol),(0,o.w)(e=>this.appService.insertStreife(e.insert).pipe((0,l.U)(t=>p.KS.insertPatrolSuccess({action:e,id:t})))))),this.updatePatrol$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(p.KS.updatePatrol),(0,o.w)(e=>this.appService.updateStreife(e.update)))),this.deletePatrol$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(p.KS.deletePatrol),(0,o.w)(e=>this.appService.deleteStreife(e.id).pipe((0,l.U)(e=>p.KS.deletePatrolSuccess({status:e})))))),this.loadReparaturen$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(p.KS.loadReparaturen),(0,o.w)(e=>this.appService.getReparaturen(e.id_ship).pipe((0,l.U)(e=>p.KS.reparaturenLoaded({reparaturen:e})))))),this.insertReparatur$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(p.KS.insertReparatur),(0,o.w)(e=>this.appService.insertReparatur(e.insert).pipe((0,l.U)(t=>p.KS.insertReparaturSuccess({action:e,id:t})))))),this.loadBetankungen$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(p.KS.loadBetankungen),(0,o.w)(e=>this.appService.getBetankungen(e.id_ship).pipe((0,l.U)(e=>p.KS.betankungenLoaded({betankungen:e})))))),this.insertBetankung$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(p.KS.insertBetankung),(0,o.w)(e=>this.appService.insertBetankung(e.insert).pipe((0,l.U)(t=>p.KS.insertBetankungSuccess({action:e,id:t})))))),this.insertBesatzung$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(p.KS.insertPatrolBesatzung),(0,o.w)(e=>this.appService.insertBesatzung(e.insert).pipe((0,l.U)(t=>p.KS.insertPatrolBesatzungSuccess({action:e,id:t})))))),this.updateBesatzung$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(p.KS.updatePatrolBesatzung),(0,o.w)(e=>this.appService.updateBesatzung(e.update.changes)))),this.deleteBesatzung$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(p.KS.deletePatrolBesatzung),(0,o.w)(e=>this.appService.deleteBesatzung(e.id))),{dispatch:!1})}}return e.\u0275fac=function(t){return new(t||e)(d.LFG(i.eX),d.LFG(r.z))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac}),e})();const h={ship:void 0,patrol:void 0,isAllDataLoaded:!1},g=(0,s.Lq)(h,(0,s.on)(p.KS.shipLoaded,(e,t)=>({ship:t.ship,patrol:e.patrol,zaehlerstaende:e.zaehlerstaende,reparaturen:e.reparaturen,betankungen:e.betankungen,isAllDataLoaded:!1})),(0,s.on)(p.KS.patrolLoaded,(e,t)=>({ship:e.ship,patrol:t.patrol,zaehlerstaende:e.zaehlerstaende,reparaturen:e.reparaturen,betankungen:e.betankungen,isAllDataLoaded:!1})),(0,s.on)(p.KS.initializePatrol,(e,t)=>{let a=Object.assign({},t.initialize);return Object.assign(Object.assign({},e),{patrol:a})}),(0,s.on)(p.KS.insertPatrolSuccess,(e,t)=>{let a=Object.assign({},t.action.insert,{id:t.id});return Object.assign(Object.assign({},e),{patrol:a})}),(0,s.on)(p.KS.updatePatrol,(e,t)=>{let a=t.update;return Object.assign(Object.assign({},e),{patrol:a})}),(0,s.on)(p.KS.deletePatrolSuccess,(e,t)=>Object.assign(Object.assign({},e),{patrol:void 0})),(0,s.on)(p.KS.reparaturenLoaded,(e,t)=>({ship:e.ship,patrol:e.patrol,zaehlerstaende:e.zaehlerstaende,reparaturen:t.reparaturen,betankungen:e.betankungen,isAllDataLoaded:!1})),(0,s.on)(p.KS.betankungenLoaded,(e,t)=>({ship:e.ship,patrol:e.patrol,zaehlerstaende:e.zaehlerstaende,reparaturen:e.reparaturen,betankungen:t.betankungen,isAllDataLoaded:!1})),(0,s.on)(p.KS.insertPatrolBesatzungSuccess,(e,t)=>{var a;let i=Object.assign({},t.action.insert,{id:t.id}),s=null===(a=e.patrol)||void 0===a?void 0:a.besatzung;return console.log("besatzung hinzuf\xfcgen"),console.log(s),s=[...s,i],Object.assign(Object.assign({},e),{patrol:Object.assign({},e.patrol,{besatzung:s})})}),(0,s.on)(p.KS.updatePatrolBesatzung,(e,t)=>{var a;let i=null===(a=e.patrol)||void 0===a?void 0:a.besatzung.filter(e=>e.id!=t.update.changes.id);return i.push(t.update.changes),Object.assign(Object.assign({},e),{patrol:Object.assign({},e.patrol,{besatzung:i})})}),(0,s.on)(p.KS.deletePatrolBesatzung,(e,t)=>{var a;const i=null===(a=e.patrol)||void 0===a?void 0:a.besatzung.filter(e=>e.id!==t.id);return Object.assign(Object.assign({},e),{patrol:Object.assign({},e.patrol,{besatzung:i})})}),(0,s.on)(p.KS.insertBetankungSuccess,(e,t)=>{let a=Object.assign({},t.action.insert,{id:t.id}),i=e.betankungen;return i=[...i,a],Object.assign(Object.assign({},e),{betankungen:i})}),(0,s.on)(p.KS.insertReparaturSuccess,(e,t)=>{let a=Object.assign({},t.action.insert,{id:t.id}),i=e.reparaturen;return i=[...i,a],Object.assign(Object.assign({},e),{reparaturen:i})}),(0,s.on)(p.KS.resetStore,(e,t)=>Object.assign({},h)));let S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({providers:[r.z],imports:[[s.Aw.forFeature(n.A.Ship,g),i.sQ.forFeature([u])]]}),e})()}}]);