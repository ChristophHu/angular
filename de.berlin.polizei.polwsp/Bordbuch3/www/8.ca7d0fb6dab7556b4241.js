(self.webpackChunkbordbuch_wsp_final=self.webpackChunkbordbuch_wsp_final||[]).push([[8],{5008:(t,e,o)=>{"use strict";o.r(e),o.d(e,{PositionComponent:()=>x});var i=o(4020),n=o(5366),l=o(1671),r=o(1041),a=o(6691),u=o(959),s=o(8256),d=o(3070),c=o(9550),p=o(1116);const m=["modalComponent"];function f(t,e){1&t&&n.GkF(0)}function Z(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"button",27),n.NdJ("click",function(){return n.CHM(t),n.oxw(2).delete()}),n._uU(1,"l\xf6schen"),n.qZA()}}function g(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"button",28),n.NdJ("click",function(){return n.CHM(t),n.oxw(2).update()}),n._uU(1,"Speichern"),n.qZA()}}function h(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"button",28),n.NdJ("click",function(){return n.CHM(t),n.oxw(2).create()}),n._uU(1,"Erstellen"),n.qZA()}}function b(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div",23),n.TgZ(1,"div"),n.TgZ(2,"button",24),n.NdJ("click",function(){return n.CHM(t),n.oxw().cancel()}),n._uU(3,"Abbrechen"),n.qZA(),n.YNc(4,Z,2,0,"button",25),n.qZA(),n.TgZ(5,"div"),n.YNc(6,g,2,0,"button",26),n.YNc(7,h,2,0,"button",26),n.qZA(),n.qZA()}if(2&t){const t=n.oxw();n.xp6(4),n.Q6J("ngIf",t.positionForm.value.id),n.xp6(2),n.Q6J("ngIf",!t.positionForm.pristine&&t.positionForm.value.id),n.xp6(1),n.Q6J("ngIf",!t.positionForm.value.id)}}let x=(()=>{class t{constructor(t,e,o){this.store=t,this._formBuilder=e,this.modalService=o,this.title="",this.edit=!1,this.positionForm=this._formBuilder.group({id:[],id_streife:[],id_ship:[],date:[],location:this._formBuilder.group({latitude:[],longitude:[]}),description:[]})}ngOnInit(){this.modalService.getData().then(t=>{this.title=t.data.title,this.positionForm.patchValue(t.data.position)})}create(){var t;console.log(this.positionForm.value),this.store.dispatch(i.xn.insertData({positionReport:this.positionForm.value})),null===(t=this.modal)||void 0===t||t.close()}update(){var t;console.log(this.positionForm.value),this.store.dispatch(i.xn.updateData({update:{id:this.positionForm.value.id,changes:this.positionForm.value}})),null===(t=this.modal)||void 0===t||t.close()}delete(){var t;this.store.dispatch(i.xn.deleteData({id:this.positionForm.value.id})),null===(t=this.modal)||void 0===t||t.close()}cancel(){var t;null===(t=this.modal)||void 0===t||t.close()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(l.yh),n.Y36(r.qu),n.Y36(a.Z))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-position"]],viewQuery:function(t,e){if(1&t&&n.Gf(m,5),2&t){let t;n.iGM(t=n.CRH())&&(e.modal=t.first)}},decls:49,vars:16,consts:[["modalComponent",""],[1,"h-16","p-8","flex","items-center","justify-between","border-b"],["tabindex","0",1,"dark:text-gray-50","focus:outline-none","text-2xl","font-semibold","leading-6","text-gray-800"],[1,"w-6","h-6","focus:outline-none","rounded-md","cursor-pointer",3,"click"],["name","x",1,"w-6","h-6","stroke-2","stroke-current","text-gray-500"],[1,"content"],[3,"formGroup"],[1,"hidden"],["appearance","fill"],["matInput","","type","text","formControlName","id","readonly",""],["matInput","","type","text","formControlName","id_streife","readonly",""],["matInput","","type","text","formControlName","id_ship","readonly",""],["matInput","","type","datetime-local","formControlName","date",3,"value"],[1,"flex","flex-row","items-center"],["formGroupName","location",1,"grid","grid-cols-2","gap-3"],["matInput","","type","text","formControlName","latitude",3,"value"],["matInput","","type","text","formControlName","longitude",3,"value"],[1,"w-6","h-6","mx-3","focus:outline-none","rounded-md","cursor-pointer"],["name","map",1,"w-6","h-6","stroke-1","stroke-current","text-black"],["matInput","","type","text","rows","5","formControlName","description"],[1,"absolute","h-16","px-8","right-0","bottom-0","left-0","flex","items-center","justify-between","border-t"],[4,"ngTemplateOutlet"],["toolbar",""],[1,"py-3","flex","justify-between"],["type","button",1,"p-2","mr-3","bg-gray-800","text-white","rounded",3,"click"],["type","button","class","p-2 mr-3 bg-red-400 text-black rounded",3,"click",4,"ngIf"],["type","button","class","p-2 ml-3 bg-gray-800 text-white rounded",3,"click",4,"ngIf"],["type","button",1,"p-2","mr-3","bg-red-400","text-black","rounded",3,"click"],["type","button",1,"p-2","ml-3","bg-gray-800","text-white","rounded",3,"click"]],template:function(t,e){if(1&t&&(n.TgZ(0,"app-modal",null,0),n.TgZ(2,"header",1),n.TgZ(3,"p",2),n._uU(4),n.qZA(),n.TgZ(5,"button",3),n.NdJ("click",function(){return e.cancel()}),n._UZ(6,"icons",4),n.qZA(),n.qZA(),n.TgZ(7,"div",5),n.TgZ(8,"form",6),n.TgZ(9,"div",7),n.TgZ(10,"mat-form-field",8),n.TgZ(11,"mat-label"),n._uU(12,"id"),n.qZA(),n._UZ(13,"input",9),n.qZA(),n.TgZ(14,"mat-form-field",8),n.TgZ(15,"mat-label"),n._uU(16,"id_streife"),n.qZA(),n._UZ(17,"input",10),n.qZA(),n.TgZ(18,"mat-form-field",8),n.TgZ(19,"mat-label"),n._uU(20,"Id_Schiff"),n.qZA(),n._UZ(21,"input",11),n.qZA(),n.qZA(),n.TgZ(22,"mat-form-field",8),n.TgZ(23,"mat-label"),n._uU(24,"Datum/Uhrzeit"),n.qZA(),n._UZ(25,"input",12),n.ALo(26,"date"),n.qZA(),n.TgZ(27,"div",13),n.TgZ(28,"div",14),n.TgZ(29,"mat-form-field",8),n.TgZ(30,"mat-label"),n._uU(31,"Latitude"),n.qZA(),n._UZ(32,"input",15),n.ALo(33,"number"),n.qZA(),n.TgZ(34,"mat-form-field",8),n.TgZ(35,"mat-label"),n._uU(36,"Longitude"),n.qZA(),n._UZ(37,"input",16),n.ALo(38,"number"),n.qZA(),n.qZA(),n.TgZ(39,"button",17),n._UZ(40,"icons",18),n.qZA(),n.qZA(),n.TgZ(41,"mat-form-field",8),n.TgZ(42,"mat-label"),n._uU(43,"Beschreibung"),n.qZA(),n._UZ(44,"textarea",19),n.qZA(),n.qZA(),n.qZA(),n.TgZ(45,"footer",20),n.YNc(46,f,1,0,"ng-container",21),n.qZA(),n.qZA(),n.YNc(47,b,8,3,"ng-template",null,22,n.W1O)),2&t){const t=n.MAs(48);n.xp6(4),n.hij(" ",e.title," "),n.xp6(4),n.Q6J("formGroup",e.positionForm),n.xp6(17),n.s9C("value",n.Dn7(26,6,e.positionForm.value.date,"yyyy-MM-ddTHH:mm","+1:00")),n.xp6(7),n.s9C("value",n.xi3(33,10,e.positionForm.value.location.latitude,"2.2-6")),n.xp6(5),n.s9C("value",n.xi3(38,13,e.positionForm.value.location.longitude,"2.2-6")),n.xp6(9),n.Q6J("ngTemplateOutlet",t)}},directives:[u.z,s._,r._Y,r.JL,r.sg,d.KE,d.hX,c.Nt,r.Fj,r.JJ,r.u,r.x0,p.tP,p.O5],pipes:[p.uU,p.JJ],styles:[""]}),t})()}}]);