{"version":3,"file":"notifications.umd.js","sources":["../../../projects/notifications/src/lib/model/notification-type.enum.ts","../../../projects/notifications/src/lib/notification/notification.component.ts","../../../projects/notifications/src/lib/notification/notification.component.html","../../../projects/notifications/src/lib/notifications.service.ts","../../../projects/notifications/src/lib/notifications-container/notifications-container.component.ts","../../../projects/notifications/src/lib/notifications-container/notifications-container.component.html","../../../projects/notifications/src/lib/notifications.module.ts","../../../projects/notifications/src/public-api.ts","../../../projects/notifications/src/notifications.ts"],"sourcesContent":["export enum NotificationType {\r\n    Success = 'success',\r\n    Error = 'error',\r\n    Alert = 'alert',\r\n    Info = 'info',\r\n    Warn = 'warn'\r\n}","import { Component, Input, OnInit } from '@angular/core';\nimport { NotificationType } from '../model/notification-type.enum';\n\n@Component({\n  selector: 'notification',\n  templateUrl: './notification.component.html',\n  styleUrls: ['./notification.component.css']\n})\nexport class NotificationComponent implements OnInit {\n  @Input() title: string = 'Title'\n  @Input() type: NotificationType = NotificationType.Success\n\n  constructor() { }\n\n  ngOnInit(): void {\n    var Notification = document.getElementById(\"notification\");\n    Notification!.style.transform = \"translateX(150%)\";\n    Notification!.classList.remove(\"hidden\");\n\n    setTimeout(function () {\n        Notification!.style.transform = \"translateX(0%)\";\n    }, 200);\n  }\n\n  public closeModal() {\n    let Notification = document.getElementById(\"notification\");\n    Notification!.style.transform = \"translateX(150%)\";\n  }\n}\n","<div role=\"alert\" class=\"sm:mr-6 mt-16 sm:mt-6 mb-6 sm:mb-0 xl:w-5/12 mx-auto absolute left-0 sm:left-auto right-0 sm:top-0 sm:w-6/12 md:w-3/5 justify-between w-11/12 bg-white dark:bg-gray-800 shadow-lg rounded flex sm:flex-row flex-col transition duration-150 ease-in-out\" id=\"notification\">\n    <div class=\"sm:px-6 p-2 flex mt-4 sm:mt-0 ml-4 sm:ml-0 items-center justify-center sm:rounded-tl sm:rounded-bl w-12 h-12 sm:h-auto sm:w-auto text-white\" [ngClass]=\"{'bg-red-400': (type == 'alert'), 'bg-green-400': (type == 'success')}\">\n        <button class=\"w-8 h-8 focus:outline-none\">\n          <!-- <icons class=\"w-8 h-8 stroke-1 stroke-current\" name=\"menu-off\"></icons> -->\n        </button>\n    </div>\n    <div class=\"flex flex-col justify-center xl:-ml-4 pl-4 xl:pl-1 sm:w-3/5 pt-4 sm:pb-4 pb-2\">\n        <p class=\"text-lg text-gray-800 dark:text-gray-100 font-semibold pb-1\">{{ title }}</p>\n        <p class=\"text-sm text-gray-600 dark:text-gray-400 font-normal\">You have {{ type }}successfully completed the survey. You will soon receive a reward email. Stay tuned.</p>\n    </div>\n    <div class=\"flex sm:flex-col sm:justify-center sm:border-l dark:border-gray-700 items-center border-gray-300 sm:w-1/6 pl-4 sm:pl-0\">\n        <div class=\"sm:pt-4 pb-4 sm:border-b dark:border-gray-700 border-gray-300 sm:w-full flex sm:justify-center\">\n            <span class=\"sm:text-sm text-xs text-green-400 font-bold mr-4 sm:mr-0 cursor-pointer\">View</span>\n        </div>\n        <div class=\"sm:pt-4 pb-4 flex sm:justify-center w-full cursor-pointer\" (click)=\"closeModal()\">\n            <span class=\"sm:text-sm text-xs text-gray-600 dark:text-gray-400 cursor-pointer\">Dismiss</span>\n        </div>\n    </div>\n</div>","import { Injectable } from '@angular/core'\nimport { Notification } from './model/notification.model'\n// import { NotificationType } from './model/notification-type.enum'\nimport { Observable, Subject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NotificationsService {\n  // https://jasonwatmore.com/post/2019/07/05/angular-8-alert-toaster-notifications\n  private subject = new Subject<Notification>()\n\n  constructor() { }\n\n  onAlert(): Observable<Notification> {\n    return this.subject.asObservable()\n  }\n\n  alert(notification: Notification) {\n    this.subject.next(notification)\n  }\n\n  // set(notification: Notification): Notification {\n  //   // do something with options\n  //   this.addNotification(notification)\n  //   return notification;\n  // }\n\n  // success(title: string = '', content: string = '', type: NotificationType ): Notification {\n  //   return this.set({ title: title, content: content, type: type = NotificationType.Success });\n  // }\n\n  // addNotification(notification: Notification) {\n\n  // }\n\n  // insert(notification: Notification): Observable<any> {\n  //   return new Observable ((observer) => {\n  //       const source$ = this.set(notification)\n  //       source$.subscribe((data: any) => {\n  //           observer.next(data.id)\n  //       }), (error: any) => observer.error(error)\n  //   })\n  // }\n}\n","import { Component, ComponentFactoryResolver, OnInit, ViewChild, ViewContainerRef } from '@angular/core'\nimport { NotificationComponent } from '../notification/notification.component'\nimport { Notification } from '../model/notification.model'\nimport { NotificationsService } from '../notifications.service'\nimport { Observable } from 'rxjs'\n\n@Component({\n  selector: 'notifications-container',\n  templateUrl: './notifications-container.component.html',\n  styleUrls: ['./notifications-container.component.css']\n})\nexport class NotificationsContainerComponent implements OnInit {\n  @ViewChild('notifications', {read: ViewContainerRef}) notifications!: ViewContainerRef\n\n  componentClass = NotificationComponent\n  components: any[] = []\n\n  constructor(private componentFactoryResolver: ComponentFactoryResolver, private _NotificationsService: NotificationsService) {}\n\n  ngOnInit(): void {\n    this._NotificationsService.onAlert().subscribe(data => console.log(data))\n  }\n\n  addNotification(notification: Notification) {\n    // Create component dynamically inside the ng-template\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(this.componentClass)\n    const componentRef = this.notifications.createComponent(componentFactory)\n    componentRef.instance.title = notification.title\n    // componentRef.instance.type = notification.type\n    // Push the component so that we can keep track of which components are created\n    this.components.push(componentRef)\n  }\n\n  removeNotification() {\n    // Find the component\n    const component = this.components.find((component: any) => component.instance instanceof this.componentClass)\n    const componentIndex = this.components.indexOf(component)\n\n    if (componentIndex !== -1) {\n      // Remove component from both view and array\n      this.notifications.remove(this.components.length-1)\n      this.components.splice(componentIndex, 1)\n    }\n  }\n\n}\n","<p>notifications-container works!</p>\n<button (click)=\"addNotification({ content: '', title: 'Titel' })\">ADD</button>\n<br>\n<button (click)=\"addNotification({ content: '', title: 'Titel' })\">ADD_Danger</button>\n<br>\n<button (click)=\"removeNotification()\">REMOVE</button>\n<ng-template #notifications>\n\n</ng-template>","import { NgModule } from '@angular/core';\nimport { NotificationsContainerComponent } from './notifications-container/notifications-container.component';\nimport { NotificationComponent } from './notification/notification.component';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { NotificationsService } from './notifications.service';\n\n@NgModule({\n  declarations: [\n    NotificationsContainerComponent,\n    NotificationComponent\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule\n  ],\n  exports: [\n    NotificationsContainerComponent\n  ],providers: [\n    NotificationsService\n  ]\n})\nexport class NotificationsModule { }\n","/*\n * Public API Surface of notifications\n */\n\nexport * from './lib/notifications-container/notifications-container.component'\nexport * from './lib/notification/notification.component'\nexport * from './lib/notifications.service';\nexport * from './lib/notifications.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["Component","Input","Subject","Injectable","ViewContainerRef","ViewChild","CommonModule","FormsModule","ReactiveFormsModule","NgModule"],"mappings":"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"}